<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <h1>Editer un Produit</h1>
            <div class="row">
                <div class="col-md-4 col-md-offset-4">
                    <label for="name">Nom</label>
                    <input  [(ngModel)]="product.name" id="name" class="form-control">
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label for="hydrophily">Hydrophilie</label>
                    <input type="number" [(ngModel)]="product.hydrophily" id="hydrophily" class="form-control" placeholder="%">
                </div>
                <div class="col-md-4">
                    <label for="material">Material</label>
                    <input type="text" [(ngModel)]="product.material" id="material" class="form-control" placeholder="material">
                </div>
                <div class="col-md-4">
                    <label for="color">Color</label>
                    <input type="text" [(ngModel)]="product.color" id="color" class="form-control" placeholder="color">
                </div>
            </div>
            <div class="row">
                <h2>Prix</h2>
                <div class="col-md-4" *ngFor="#price of product.price">
                    <div class="form-group">
                        <label >Prix {{price.name}} </label>
                        <input [(ngModel)]="price.price" name="price"  class="form-control">
                    </div>
                </div>
            </div>
            <div class="row">
                <h2>Prix Fournisseur</h2>
                <div class="form-group row" *ngFor="#ownerPrice of product.ownerPrice">
                    <div class="col-md-4">
                        <label>Fournisseur </label>
                        <input [(ngModel)]="ownerPrice.owner"  type="text"  name="owner"  class="form-control">
                    </div>
                    <div class="col-md-4">
                        <label>Quantité (en boite)</label>
                        <input [(ngModel)]="ownerPrice.quantity" type="number" name="ownerQuantity"  class="form-control">
                    </div>
                    <div class="col-md-4">
                        <label>Prix</label>
                        <input [(ngModel)]="ownerPrice.price" type="number" name="ownerPrice"  class="form-control">
                    </div>
                </div>
                <button class="btn btn-success" (click)="addOwnerPrice()">Ajouter</button>
                <button class="btn btn-success" (click)="deleteOwnerPrice()">Effacer</button>
            </div>
            <div class="row">
                <label >Price D'achat Moyen Pondéré </label>
                <div class="well well-sm">
                    <span>
                       {{middlePrice()}}
                    </span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label for="ametropia">Amétropie</label>
                    <input type="text" [(ngModel)]="product.ametropia" id="ametropia" class="form-control" placeholder="amétropie">
                </div>
                <div class="col-md-4">
                    <label for="port">Port</label>
                    <select [(ngModel)]="product.port" id="port">
                        <option value="journalier">Journalier</option>
                        <option value="hebdomadaire">Hebdomadaire</option>
                        <option value="mensuel">Mensuel</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="portDuration">Durée du port</label>
                    <input type="text" [(ngModel)]="product.portDuration" id="portDuration" class="form-control" placeholder="durée du port">
                </div>
            </div>
            <div class="row" style="height: 30px;">
                <div class="col-md-2">
                    Delete
                </div>
                <div class="col-md-1">
                    Sphère
                </div>
                <div class="col-md-2">
                    Diamètre
                </div>
                <div class="col-md-1">
                    Rayon
                </div>
                <div class="col-md-1" *ngIf="items[0].axis != null">
                    Axe
                </div>
                <div class="col-md-2" *ngIf="items[0].cylinder != null">
                    Cylindre
                </div>
                <div class="col-md-2"  *ngIf="items[0].addition != null">
                    Addition
                </div>
            </div>
            <div *ngFor="#item of items; #i = index" class="row">
                <div class="col-md-2">
                    <button (click)="removeItem(i)" class="button-delete-cross"><i class="fa fa-close"></i></button>
                </div>
                <div class="col-md-1">
                    {{item.sphere}}
                </div>
                <div class="col-md-2">
                    {{item.diameter}}
                </div>
                <div class="col-md-1">
                    {{item.radius}}
                </div>
                <div class="col-md-1" *ngIf="items[0].axis != null">
                    {{item.axis}}
                </div>
                <div class="col-md-2" *ngIf="items[0].cylinder != null">
                    {{item.cylinder}}
                </div>
                <div class="col-md-2"  *ngIf="items[0].addition != null">
                    {{item.addition}}
                </div>
                <hr>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <button (click)="saveProduct()" class="btn">Enregistrer</button>
        </div>
    </div>
</div>

